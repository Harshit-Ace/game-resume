<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Harshitâ€™s Skill Run</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    background: linear-gradient(180deg, #0078ff, #00c9ff);
    overflow: hidden;
    font-family: sans-serif;
  }

  #game {
    width: 100%;
    height: 400px;
    border-bottom: 6px solid #ffcc00;
    position: relative;
    overflow: hidden;
  }

  /* âœ… Explicit background properties */
  #player {
    position: absolute;
    bottom: 20px;
    left: 50px;
    width: 60px;
    height: 60px;
    background-image: url('https://cdn-icons-png.flaticon.com/512/706/706797.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .skill, .obstacle {
    position: absolute;
    bottom: 20px;
    width: 40px;
    height: 40px;
    animation: moveLeft 5s linear infinite;
  }

  .skill {
    background-image: url('https://cdn-icons-png.flaticon.com/512/138/138292.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .obstacle {
    background-image: url('https://cdn-icons-png.flaticon.com/512/742/742751.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  @keyframes moveLeft {
    from { right: -50px; }
    to { right: 110%; }
  }

  #scoreboard {
    padding: 1rem;
    color: white;
    font-size: 1.2rem;
  }

  #message {
    text-align: center;
    font-size: 1.5rem;
    color: yellow;
    font-weight: bold;
  }
</style>
</head>
<body>

<div id="scoreboard">
  ðŸŽ® <strong>Harshitâ€™s Skill Run</strong> | XP: <span id="score">0</span>
</div>

<div id="game">
  <div id="player"></div>
</div>

<p id="message"></p>

<script>
const game = document.getElementById('game');
const player = document.getElementById('player');
const scoreEl = document.getElementById('score');
const message = document.getElementById('message');

let jumping = false;
let score = 0;
let skillsCollected = [];

const skills = ["Python", "SQL", "C++", "Java", "HTML", "CSS", "Power BI"];

// Jump logic
document.addEventListener('keydown', e => {
  if (e.code === 'Space' && !jumping) jump();
});

function jump() {
  jumping = true;
  let up = 0;
  const jumpInt = setInterval(() => {
    if (up >= 100) {
      clearInterval(jumpInt);
      const downInt = setInterval(() => {
        if (up <= 0) {
          clearInterval(downInt);
          jumping = false;
        }
        up -= 5;
        player.style.bottom = 20 + up + 'px';
      }, 20);
    }
    up += 5;
    player.style.bottom = 20 + up + 'px';
  }, 20);
}

// Spawn items
function spawnItem() {
  const isSkill = Math.random() < 0.7;
  const el = document.createElement('div');
  el.classList.add(isSkill ? 'skill' : 'obstacle');
  el.style.bottom = '20px';
  el.style.right = '-50px';
  game.appendChild(el);

  const move = setInterval(() => {
    const rect1 = player.getBoundingClientRect();
    const rect2 = el.getBoundingClientRect();

    if (
      rect1.left < rect2.left + rect2.width &&
      rect1.left + rect1.width > rect2.left &&
      rect1.top < rect2.top + rect2.height &&
      rect1.height + rect1.top > rect2.top
    ) {
      if (isSkill) {
        score += 10;
        const skill = skills[skillsCollected.length % skills.length];
        skillsCollected.push(skill);
        scoreEl.textContent = score;
        message.textContent = `âœ… Collected ${skill}!`;
        if (skillsCollected.length === skills.length) {
          message.textContent = `ðŸ† All Skills Collected! Level Up!`;
          clearInterval(spawner);
        }
      } else {
        message.textContent = `ðŸ’¥ Hit a bug! XP -5`;
        score = Math.max(0, score - 5);
        scoreEl.textContent = score;
      }
      el.remove();
      clearInterval(move);
    }

    let right = parseInt(getComputedStyle(el).right);
    if (right > window.innerWidth + 100) {
      el.remove();
      clearInterval(move);
    }
  }, 50);
}

// Game loop
const spawner = setInterval(spawnItem, 1500);
</script>
</body>
</html>
